import{GatewayIntentBits as n}from"discord.js";const{DISCORD_APPLICATION_ID:l,DISCORD_PUBLIC_KEY:c,DISCORD_TOKENS:i}=(await import("../Variable/Environment.js")).default.parse(process.env),g=i.indexOf(",")!==-1?i.split(","):[i],m=[{token:"",events:new Map([["message",async e=>{console.log(e)}]]),options:{intents:[n.GuildMembers,n.GuildMessages,n.Guilds,n.MessageContent]},preflight:async e=>{const t=l;if(!c)throw new Error("The DISCORD_TOKEN environment variable is required.");async function o(a){const s=await fetch(a,{headers:{"Content-Type":"application/json",Authorization:`Bot ${e}`},method:"PUT",body:JSON.stringify([AWW_COMMAND,INVITE_COMMAND])});if(s.ok)console.log("Registered all commands");else{console.error("Error registering commands");const p=await s.text();console.error(p)}return s}async function r(){await o(`https://discord.com/api/v10/applications/${t}/commands`)}await r()}}];var C=m.map((e,t)=>{const o=g[t];return o?e.token=o:console.log(`No token for client: ${t}`),e});export{m as Clients,l as DISCORD_APPLICATION_ID,c as DISCORD_PUBLIC_KEY,i as DISCORD_TOKENS,g as Tokens,C as default};
